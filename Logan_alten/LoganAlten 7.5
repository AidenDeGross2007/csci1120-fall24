#include <iostream>
#include <iomanip>

using namespace std;
double taxAmount (bool isMarried, int kids, double grossSalary, double pension);
void getData(bool &isMarried, int &kids, double &grossSalary, double &pension);

int main() {
    bool isMarried;
    double grossSalary;
    double pension;
    int kids;

    getData(isMarried, kids, grossSalary, pension);
    double tax = taxAmount(isMarried, kids, grossSalary, pension);
    cout << fixed << setprecision(2);
    cout << "Your tax amount is: $" << tax << endl;
        return 0;
}

void getData(bool &isMarried, int &kids, double &grossSalary, double &pension){
    char maritalResponse;
    cout << "Enter your/your family's gross salary: $ ";
    cin >> grossSalary;
    cout << "Are you married? Enter y/n";
    cin >> maritalResponse;
    isMarried = (maritalResponse == 'y' || maritalResponse =='Y');
    cout << "Enter your pension contributions: $";
    cin >> pension;
    cout << "Enter how many kids you have: ";
    cin >> kids;
}
double taxAmount (bool isMarried, int kids, double grossSalary, double pension){
    double tax;
    double taxableIncome;
    if (isMarried){
        taxableIncome = grossSalary - pension - ((2 + kids) * 1500 );
    }
    else {
        taxableIncome = grossSalary - pension - ((1+kids) *1500 );
    }

        if (taxableIncome < 0 ){
            taxableIncome =0;
        }
        if (taxableIncome <= 15000){
            tax = taxableIncome * 0.15;
        }
        else if (taxableIncome <= 40000){
            tax = 2250 + ((taxableIncome - 15000) * 0.25);
        }
        else {
            tax = 8460 + ((taxableIncome - 40000) * 0.35);
        }
return tax;
    
}
